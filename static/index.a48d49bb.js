var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,a=(e,t)=>{for(var o in t||(t={}))r.call(t,o)&&s(e,o,t[o]);if(n)for(var o of n(t))i.call(t,o)&&s(e,o,t[o]);return e},c=(e,n)=>t(e,o(n)),l=(e,t)=>{var o={};for(var s in e)r.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(null!=e&&n)for(var s of n(e))t.indexOf(s)<0&&i.call(e,s)&&(o[s]=e[s]);return o};import{e as u,r as p,u as d,j as f,F as y,B as h,a as v,b as O,I as x,c as b,C as m,W as g,d as S,f as w,g as I,h as C,i as k,R as L,k as j,l as E}from"./vendor.8dafa0b6.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const N=u({config:{initialColorMode:"dark",useSystemColorMode:!0}});const F={w:"12px",h:"12px"},M={w:"16px",h:"16px"};const A=p.exports.forwardRef((function(e,t){var o=e,{isOpen:n=!1,options:r=[],onSelectOption:i=(()=>{})}=o,s=l(o,["isOpen","options","onSelectOption"]);return f(y,{children:n&&f(h,c(a({ref:t,position:"absolute",top:"100%",my:"6px",width:"100%",boxSizing:"border-box",borderRadius:"6px",boxShadow:"0 0 0 1px hsl(0deg 0% 0% / 10%), 0 4px 11px hsl(0deg 0% 0% / 10%)",background:"gray.700",as:"ul",listStyleType:"none",zIndex:"3",overflow:"auto"},s),{children:r.map((e=>f(v,{variant:"ghost",width:"100%",justifyContent:"start",onClick:()=>i(e),children:e.value},e.key)))}))})}));function D(e){var t=e,{connectivityState:o="IDLE",options:n}=t,r=l(t,["connectivityState","options"]);const i=p.exports.useRef(),{value:s,isMenuOpen:u,reset:y,onChange:v,onSelectOption:k}=function({ref:e}){const[t,o]=p.exports.useState(""),[n,r]=p.exports.useState(),[i,s]=p.exports.useState(!1),a=p.exports.useCallback((e=>{o(e.target.value),!i&&s(!0)}),[i]),c=p.exports.useCallback((e=>{r(e),o(e.value)}),[]),l=p.exports.useCallback((()=>{o(""),r(void 0)}),[]);return d({ref:e,handler:()=>s(!1)}),{value:t,isMenuOpen:i,selected:n,onChange:a,onSelectOption:c,reset:l}}({ref:i});return O(h,c(a({position:"relative"},r),{children:[O(x,{children:[["LOADING","FAILURE"].includes(o)&&O(b,{children:["LOADING"===o&&f(m,{isIndeterminate:!0,size:M.w,trackColor:"transparent",color:"blue.300"}),"FAILURE"===o&&f(g,c(a({},M),{color:"red.300"}))]}),f(S,{value:s,onChange:v}),f(w,{children:s?f(C,c(a({},F),{cursor:"pointer",onClick:y})):f(I,a({},F))})]}),f(A,{ref:i,options:n,isOpen:u,onSelectOption:k})]}))}function P(e){var t=e,{service:o,execution:n,toOptions:r,onFailure:i}=t,s=l(t,["service","execution","toOptions","onFailure"]);const{connectivityState:c,options:u}=function(e,{execution:t="ON_MOUNT",toOptions:o,onFailure:n}){const[r,i]=p.exports.useState("IDLE"),[s,a]=p.exports.useState([]),c=p.exports.useCallback((async()=>{i("LOADING");try{const t=await e(),n=o(t);a(n)}catch(t){i("FAILURE"),n&&n(t)}finally{i("IDLE")}}),[e,o]);return p.exports.useEffect((()=>{"ON_MOUNT"===t&&c()}),[]),{connectivityState:r,options:s,execute:c}}(o,{execution:n,toOptions:r,onFailure:i});return f(D,a({connectivityState:c,options:u},s))}function R(){return f(k,{width:"100vw",height:"100vh",alignItems:"center",justifyContent:"center",children:f(P,{service:()=>function(e,t=1e3){return new Promise((o=>setTimeout((()=>o(e)),t)))}(["William","Juliano"]),toOptions:e=>e.map((e=>({key:e,value:e})))})})}L.render(f(j.StrictMode,{children:f(E,{theme:N,children:f(R,{})})}),document.getElementById("root"));
//# sourceMappingURL=index.a48d49bb.js.map
